cache:
  paths:
    - ~/.cache/pip/

image: python:3.8

before_script:
  - pip install --upgrade pip
  - pip install google-api-python-client google-auth-httplib2 google-auth-oauthlib
  - pip install coverage
  - pip install python-dateutil

test:
  script:
     python CalendarTest.py

coverage:
  script:
  - coverage run -m CalendarTest
  - coverage report
  coverage: '/^TOTAL.*\s+(\d+\%)$/'